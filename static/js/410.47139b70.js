"use strict";(self.webpackChunkez_theme=self.webpackChunkez_theme||[]).push([[410],{16034:(e,a,l)=>{var n=l(46518),s=l(32357).values;n({target:"Object",stat:!0},{values:function(e){return s(e)}})},29410:(e,a,l)=>{l.r(a),l.d(a,{default:()=>fa});var n=l(59258),s=l(54119),t=l(41034),i=l(20908),r=l(30388),o=(l(28706),l(74423),l(64346),l(34782),l(26910),l(23288),l(2892),l(26099),l(16034),l(27495),l(21699),l(47764),l(25440),l(62953),l(76031),l(20641)),c=l(90033),u=l(50953),d=l(53751),v=l(46992),f=l(75220),p=l(92549),k=l(49586),m=l(25226),b=l(33366);var L=l(58044),h=l(80394),w={class:"profile-container"},g={class:"profile-inner"},_={class:"dashboard-card welcome-card"},C={class:"card-header"},y={class:"card-title"},R={class:"card-body"},$={key:0,class:"profile-skeleton"},P={key:1,class:"error-state"},E={key:2,class:"profile-content"},A={class:"profile-card"},X={class:"card-header"},F={class:"info-content"},K={class:"info-list"},x={class:"info-item"},S={class:"info-label"},z={class:"info-value"},Q={class:"info-item"},I={class:"info-label"},D={class:"info-value"},O={key:0,class:"profile-card"},W={class:"card-header"},N={class:"settings-content"},T={class:"gift-card-form"},M={class:"input-group"},q=["placeholder"],G=["disabled"],U={key:0,class:"loader"},B={class:"profile-card"},V={class:"card-header"},H={class:"settings-content"},j={class:"setting-item"},J={class:"setting-info"},Y={class:"setting-label"},Z={class:"setting-description"},ee={class:"setting-toggle"},ae=["disabled"],le={class:"setting-item"},ne={class:"setting-info"},se={class:"setting-label"},te={class:"setting-description"},ie={class:"setting-toggle"},re=["disabled"],oe={class:"profile-card"},ce={class:"card-header"},ue={class:"settings-content"},de={class:"action-buttons"},ve={key:1,class:"profile-card"},fe={class:"card-header"},pe={class:"settings-content"},ke={key:0,class:"telegram-loading"},me={class:"action-buttons"},be={key:2,class:"profile-card"},Le={class:"card-header"},he={class:"settings-content"},we={class:"action-buttons"},ge={key:0,class:"subscription-info"},_e={class:"subscription-url"},Ce={key:3,class:"profile-card"},ye={class:"card-header"},Re={class:"settings-content"},$e={key:0,class:"device-loading"},Pe={key:1,class:"device-error"},Ee={key:2,class:"device-empty"},Ae={key:3,class:"device-list"},Xe={class:"device-icon"},Fe={class:"device-info"},Ke={class:"device-name"},xe={class:"device-meta"},Se={class:"device-ip"},ze={class:"device-time"},Qe={class:"modal-header"},Ie={class:"modal-body"},De={class:"form-group"},Oe=["placeholder"],We={class:"form-group"},Ne=["placeholder"],Te={class:"form-group"},Me=["placeholder"],qe={key:0,class:"error-text"},Ge={class:"modal-footer"},Ue=["disabled"],Be={key:0,class:"loader"},Ve={class:"modal-header"},He={class:"modal-body"},je={class:"modal-footer"},Je=["disabled"],Ye={key:0,class:"loader"},Ze={class:"modal-header"},ea={class:"modal-body"},aa={class:"step-container"},la={class:"step-item"},na={class:"step-number"},sa={class:"step-content"},ta=["href"],ia={class:"step-item"},ra={class:"step-number"},oa={class:"step-content"},ca={class:"command-container"},ua={class:"command-text"},da={class:"modal-footer"};const va=Object.assign({name:"UserProfile"},{__name:"UserProfile",setup:function(e){(0,L.reloadMessages)();var a,l=(0,v.s9)().t,va=(a=(0,b.d)().showToast,{success:function(e){a(e,"success",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},error:function(e){a(e,"error",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},warning:function(e){a(e,"warning",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)},info:function(e){a(e,"info",arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3)}}),fa=va.success,pa=va.error,ka=(0,u.KR)(!0),ma=(0,u.KR)(""),ba=(0,u.KR)({}),La=(0,u.KR)(!1),ha=(0,u.KR)(!1),wa=(0,u.KR)(!1),ga=(0,u.KR)(!1),_a=(0,u.KR)(!1),Ca=(0,u.KR)(!1),ya=(0,u.KR)(""),Ra=(0,u.KR)({is_telegram:0,telegram_discuss_link:""}),$a=(0,u.KR)(null),Pa=(0,u.KR)(!1),Ea=(0,u.KR)(""),Aa=(0,u.KR)(!1),Xa=(0,u.KR)([]),Fa=(0,u.KR)(!1),Ka=(0,u.KR)(""),xa=(0,u.KR)(""),Sa=(0,u.KR)(!1),za=(0,u.KR)(!1),Qa=(0,u.KR)(!1),Ia=(0,u.KR)(!1),Da=(0,u.KR)(h.DASHBOARD_CONFIG.showImportSubscription),Oa=(0,u.KR)({oldPassword:"",newPassword:"",confirmPassword:""}),Wa=(0,o.EW)(function(){return!!Oa.value.confirmPassword&&Oa.value.newPassword!==Oa.value.confirmPassword}),Na=function(){return Oa.value.oldPassword&&Oa.value.newPassword&&Oa.value.confirmPassword&&!Wa.value},Ta=(0,f.lq)(),Ma=(0,f.rd)(),qa=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a,n,s,t=arguments;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return(a=!(t.length>0&&void 0!==t[0])||t[0])&&(ka.value=!0),ma.value="",e.p=1,e.n=2,(0,p.ug)();case 2:if(!(n=e.v)||!n.data){e.n=4;break}return ba.value=n.data,_a.value=!!n.data.remind_expire,Ca.value=!!n.data.remind_traffic,e.n=3,Ua();case 3:e.n=5;break;case 4:ma.value=l("common.unknownError");case 5:e.n=7;break;case 6:e.p=6,s=e.v,ma.value=(null==s?void 0:s.message)||l("common.networkError"),pa(ma.value);case 7:return e.p=7,!a||Pa.value||Fa.value||(ka.value=!1),Ga(),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),Ga=function(){"true"===Ta.query.openPasswordModal&&setTimeout(function(){La.value=!0;var e=(0,t.A)({},Ta.query);delete e.openPasswordModal,Ma.replace({query:e})},500)};(0,o.wB)(function(){return Ta.query},function(e){"true"===e.openPasswordModal&&setTimeout(function(){La.value=!0;var a=(0,t.A)({},e);delete a.openPasswordModal,Ma.replace({query:a})},500)},{immediate:!0});var Ua=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,p._8)();case 1:(a=e.v)&&a.data&&(ya.value=a.data.subscribe_url||""),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),Ba=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a,l;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return Pa.value=!0,Ea.value="",e.p=1,e.n=2,(0,p.l8)();case 2:return(a=e.v)&&a.data&&(Ra.value=a.data),e.p=3,e.n=4,(0,p.JI)();case 4:(l=e.v)&&l.data&&(l.data.message&&l.data.message.includes("Not Found")?$a.value=null:$a.value=l.data),e.n=6;break;case 5:e.p=5,e.v,$a.value=null;case 6:e.n=8;break;case 7:e.p=7,e.v,Ra.value=null,$a.value=null;case 8:return e.p=8,Pa.value=!1,ka.value||Fa.value||(ka.value=!1),e.f(8);case 9:return e.a(2)}},e,null,[[3,5],[1,7,8,9]])}));return function(){return e.apply(this,arguments)}}(),Va=function(){Ra.value&&Ra.value.telegram_discuss_link&&window.open(Ra.value.telegram_discuss_link,"_blank")},Ha=function(){Aa.value=!0},ja=function(){Aa.value=!1},Ja=function(){if($a.value&&ya.value){var e="/bind ".concat(ya.value);navigator.clipboard.writeText(e).then(function(){fa(l("profile.commandCopied"))}).catch(function(e){ma(l("common.copyFailed"))})}},Ya=function(){var e=(0,r.A)((0,i.A)().m(function e(a){var n,s;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return za.value=!0,"expire"===a?Qa.value=!0:"traffic"===a&&(Ia.value=!0),e.p=1,n={remind_expire:_a.value?1:0,remind_traffic:Ca.value?1:0},e.n=2,(0,p.WI)(n);case 2:(s=e.v)&&s.data&&fa(l("profile.updateSuccess")),e.n=4;break;case 3:e.p=3,e.v,_a.value=!!ba.value.remind_expire,Ca.value=!!ba.value.remind_traffic,pa(l("profile.updateError"));case 4:return e.p=4,e.n=5,qa(!1);case 5:return za.value=!1,Qa.value=!1,Ia.value=!1,e.f(4);case 6:return e.a(2)}},e,null,[[1,3,4,6]])}));return function(a){return e.apply(this,arguments)}}(),Za=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a,n;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Na()){e.n=1;break}return e.a(2);case 1:return wa.value=!0,e.p=2,a={old_password:Oa.value.oldPassword,new_password:Oa.value.newPassword},e.n=3,(0,p.ec)(a);case 3:(n=e.v)&&n.data&&(fa(l("profile.passwordChanged")),Oa.value={oldPassword:"",newPassword:"",confirmPassword:""},La.value=!1),e.n=5;break;case 4:e.p=4,e.v,pa(l("profile.passwordError"));case 5:return e.p=5,wa.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),el=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return ga.value=!0,e.p=1,e.n=2,(0,p.uT)();case 2:(a=e.v)&&a.data&&(ya.value=a.data,fa(l("profile.resetSuccess")),ha.value=!1),e.n=4;break;case 3:e.p=3,e.v,pa(l("profile.resetError"));case 4:return e.p=4,ga.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),al=function(){ya.value&&navigator.clipboard.writeText(ya.value).then(function(){fa(l("profile.subscriptionCopied"))}).catch(function(e){})},ll=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(xa.value){e.n=1;break}return pa(l("profile.giftCardEmpty")),e.a(2);case 1:return Sa.value=!0,e.p=2,e.n=3,(0,p.Ng)(xa.value);case 3:if(!(a=e.v)||!a.data){e.n=4;break}return fa(l("profile.giftCardSuccess")),xa.value="",e.n=4,qa(!1);case 4:e.n=6;break;case 5:e.p=5,e.v,pa(l("profile.giftCardError"));case 6:return e.p=6,Sa.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),nl=function(){var e=(0,r.A)((0,i.A)().m(function e(){var a,n,t,r;return(0,i.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return Fa.value=!0,Ka.value="",e.p=1,e.n=2,(0,p.lH)();case 2:(a=e.v)&&a.data?(n=Array.isArray(a.data)?a.data:"object"===(0,s.A)(a.data)&&null!==a.data?Object.values(a.data):[],t=n.sort(function(e,a){return e.login_at&&a.login_at?a.login_at-e.login_at:0}),Xa.value=t.slice(0,10)):Ka.value=l("profile.sessionError"),e.n=4;break;case 3:e.p=3,r=e.v,Ka.value=(null==r?void 0:r.message)||l("common.networkError");case 4:return e.p=4,Fa.value=!1,ka.value||Pa.value||(ka.value=!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),sl=function(e){if(!e)return m.GeN;var a=e.toLowerCase();return a.includes("iphone")||a.includes("ipad")||a.includes("ipod")||a.includes("android")?m.q2Q:a.includes("windows")||a.includes("macintosh")||a.includes("mac os")||a.includes("linux")?m.vk8:m.GeN},tl=function(e){if(!e)return l("profile.unknownDevice");var a=e.toLowerCase(),n="",s="";return n=a.includes("iphone")?"iPhone":a.includes("ipad")?"iPad":a.includes("ipod")?"iPod":a.includes("android")?"Android":a.includes("windows")?"Windows":a.includes("macintosh")||a.includes("mac os")?"MacOS":a.includes("linux")?"Linux":l("profile.unknownDevice"),s=a.includes("edg/")||a.includes("edge/")?"Edge":a.includes("chrome/")&&!a.includes("chromium/")?"Chrome":a.includes("firefox/")?"Firefox":!a.includes("safari/")||a.includes("chrome/")||a.includes("android")?a.includes("opera/")||a.includes("opr/")?"Opera":l("profile.unknownBrowser"):"Safari","".concat(n," - ").concat(s)},il=function(e){if(!e)return"";var a=Number(e);if(isNaN(a))return"";if(a<0||a>4102444800)return"";try{var l=new Date(1e3*a);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(l)}catch(e){return""}};return(0,o.sV)(function(){ka.value=!0,Promise.all([qa(!1),h.PROFILE_CONFIG.showRecentDevices?nl():Promise.resolve(),Ba()]).finally(function(){ka.value=!1,Ga()})}),function(e,a){var l,s;return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",w,[(0,o.Lk)("div",g,[(0,o.Lk)("div",_,[(0,o.Lk)("div",C,[(0,o.Lk)("h2",y,(0,c.v_)(e.$t("profile.title")),1)]),(0,o.Lk)("div",R,[(0,o.Lk)("p",null,(0,c.v_)(e.$t("common.welcome")),1)])]),ka.value?((0,o.uX)(),(0,o.CE)("div",$,(0,n.A)(a[19]||(a[19]=[(0,o.Fv)('<div class="profile-card" data-v-8cffbf00><div class="card-header" data-v-8cffbf00><div class="skeleton-line skeleton-title" data-v-8cffbf00></div></div><div class="skeleton-content" data-v-8cffbf00><div class="skeleton-item" data-v-8cffbf00><div class="skeleton-label" data-v-8cffbf00></div><div class="skeleton-value" data-v-8cffbf00></div></div><div class="skeleton-item" data-v-8cffbf00><div class="skeleton-label" data-v-8cffbf00></div><div class="skeleton-value" data-v-8cffbf00></div></div></div></div><div class="profile-card" data-v-8cffbf00><div class="card-header" data-v-8cffbf00><div class="skeleton-line skeleton-title" data-v-8cffbf00></div></div><div class="skeleton-content" data-v-8cffbf00><div class="skeleton-item skeleton-setting" data-v-8cffbf00><div class="skeleton-text" data-v-8cffbf00><div class="skeleton-label" data-v-8cffbf00></div><div class="skeleton-description" data-v-8cffbf00></div></div><div class="skeleton-toggle" data-v-8cffbf00></div></div><div class="skeleton-item skeleton-setting" data-v-8cffbf00><div class="skeleton-text" data-v-8cffbf00><div class="skeleton-label" data-v-8cffbf00></div><div class="skeleton-description" data-v-8cffbf00></div></div><div class="skeleton-toggle" data-v-8cffbf00></div></div></div></div><div class="profile-card" data-v-8cffbf00><div class="card-header" data-v-8cffbf00><div class="skeleton-line skeleton-title" data-v-8cffbf00></div></div><div class="skeleton-content" data-v-8cffbf00><div class="skeleton-button" data-v-8cffbf00></div></div></div>',3)])))):ma.value?((0,o.uX)(),(0,o.CE)("div",P,[(0,o.bF)((0,u.R1)(m.QO),{size:48,class:"error-icon"}),(0,o.Lk)("p",null,(0,c.v_)(ma.value),1),(0,o.Lk)("button",{class:"retry-button",onClick:qa},(0,c.v_)(e.$t("common.retry")),1)])):((0,o.uX)(),(0,o.CE)("div",E,[(0,o.Lk)("div",A,[(0,o.Lk)("div",X,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.basicInfo")),1)]),(0,o.Lk)("div",F,[(0,o.Lk)("div",K,[(0,o.Lk)("div",x,[(0,o.Lk)("span",S,(0,c.v_)(e.$t("profile.email")),1),(0,o.Lk)("span",z,(0,c.v_)(ba.value.email),1)]),(0,o.Lk)("div",Q,[(0,o.Lk)("span",I,(0,c.v_)(e.$t("profile.createdAt")),1),(0,o.Lk)("span",D,(0,c.v_)((0,u.R1)(k.Yq)(ba.value.created_at)),1)])])])]),(0,u.R1)(h.PROFILE_CONFIG).showGiftCardRedeem?((0,o.uX)(),(0,o.CE)("div",O,[(0,o.Lk)("div",W,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.giftCard")),1)]),(0,o.Lk)("div",N,[(0,o.Lk)("div",T,[(0,o.Lk)("div",M,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=function(e){return xa.value=e}),placeholder:e.$t("profile.giftCardPlaceholder"),class:"gift-card-input"},null,8,q),[[d.Jo,xa.value]]),(0,o.Lk)("button",{class:"gift-card-btn",onClick:ll,disabled:Sa.value||!xa.value},[Sa.value?((0,o.uX)(),(0,o.CE)("span",U)):((0,o.uX)(),(0,o.Wv)((0,u.R1)(m.cWS),{key:1,size:18})),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.giftCardSubmit")),1)],8,G)])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",B,[(0,o.Lk)("div",V,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.notifications")),1)]),(0,o.Lk)("div",H,[(0,o.Lk)("div",j,[(0,o.Lk)("div",J,[(0,o.Lk)("span",Y,(0,c.v_)(e.$t("profile.expireRemind")),1),(0,o.Lk)("span",Z,(0,c.v_)(e.$t("profile.expireRemindDesc")),1)]),(0,o.Lk)("div",ee,[(0,o.Lk)("label",{class:(0,c.C4)(["switch",{disabled:za.value}])},[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=function(e){return _a.value=e}),onChange:a[2]||(a[2]=function(e){return Ya("expire")}),disabled:za.value},null,40,ae),[[d.lH,_a.value]]),(0,o.Lk)("span",{class:(0,c.C4)(["slider round",{loading:Qa.value}])},null,2)],2)])]),(0,o.Lk)("div",le,[(0,o.Lk)("div",ne,[(0,o.Lk)("span",se,(0,c.v_)(e.$t("profile.trafficRemind")),1),(0,o.Lk)("span",te,(0,c.v_)(e.$t("profile.trafficRemindDesc")),1)]),(0,o.Lk)("div",ie,[(0,o.Lk)("label",{class:(0,c.C4)(["switch",{disabled:za.value}])},[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=function(e){return Ca.value=e}),onChange:a[4]||(a[4]=function(e){return Ya("traffic")}),disabled:za.value},null,40,re),[[d.lH,Ca.value]]),(0,o.Lk)("span",{class:(0,c.C4)(["slider round",{loading:Ia.value}])},null,2)],2)])])])]),(0,o.Lk)("div",oe,[(0,o.Lk)("div",ce,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.security")),1)]),(0,o.Lk)("div",ue,[(0,o.Lk)("div",de,[(0,o.Lk)("button",{class:"action-btn",onClick:a[5]||(a[5]=function(e){return La.value=!0})},[(0,o.bF)((0,u.R1)(m.XEb),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.changePassword")),1)])])])]),(null!==(l=Ra.value)&&void 0!==l&&l.telegram_discuss_link||$a.value&&$a.value.username)&&!Pa.value?((0,o.uX)(),(0,o.CE)("div",ve,[(0,o.Lk)("div",fe,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.telegram")),1)]),(0,o.Lk)("div",pe,[Pa.value?((0,o.uX)(),(0,o.CE)("div",ke,(0,n.A)(a[20]||(a[20]=[(0,o.Lk)("div",{class:"skeleton-wrapper"},[(0,o.Lk)("div",{class:"skeleton-line",style:{width:"80%",height:"40px","margin-bottom":"12px"}}),(0,o.Lk)("div",{class:"skeleton-line",style:{width:"60%",height:"40px"}})],-1)])))):(0,o.Q3)("",!0),(0,o.Lk)("div",me,[null!==(s=Ra.value)&&void 0!==s&&s.telegram_discuss_link?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"action-btn",onClick:Va},[(0,o.bF)((0,u.R1)(m.apC),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.telegramGroup")),1)])):(0,o.Q3)("",!0),$a.value&&$a.value.username?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"action-btn",onClick:Ha},[(0,o.bF)((0,u.R1)(m.apC),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.telegramBot")),1)])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0),Da.value?((0,o.uX)(),(0,o.CE)("div",be,[(0,o.Lk)("div",Le,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.subscription")),1)]),(0,o.Lk)("div",he,[(0,o.Lk)("div",we,[(0,o.Lk)("button",{class:"action-btn danger",onClick:a[6]||(a[6]=function(e){return ha.value=!0})},[(0,o.bF)((0,u.R1)(m.H42),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.resetSecurity")),1)]),ya.value?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"action-btn",onClick:al},[(0,o.bF)((0,u.R1)(m.bzS),{size:18}),(0,o.eW)(" "+(0,c.v_)(e.$t("profile.copySubscription")),1)])):(0,o.Q3)("",!0)]),ya.value?((0,o.uX)(),(0,o.CE)("div",ge,[(0,o.Lk)("div",_e,(0,c.v_)(ya.value),1)])):(0,o.Q3)("",!0)])])):(0,o.Q3)("",!0),(0,u.R1)(h.PROFILE_CONFIG).showRecentDevices?((0,o.uX)(),(0,o.CE)("div",Ce,[(0,o.Lk)("div",ye,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.recentDevices")),1)]),(0,o.Lk)("div",Re,[Fa.value?((0,o.uX)(),(0,o.CE)("div",$e,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(3,function(e){return(0,o.Lk)("div",{class:"session-skeleton",key:e},(0,n.A)(a[21]||(a[21]=[(0,o.Lk)("div",{class:"session-skeleton-icon"},null,-1),(0,o.Lk)("div",{class:"session-skeleton-content"},[(0,o.Lk)("div",{class:"session-skeleton-title"}),(0,o.Lk)("div",{class:"session-skeleton-info"})],-1)])))}),64))])):Ka.value?((0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.Lk)("p",null,(0,c.v_)(Ka.value),1),(0,o.Lk)("button",{class:"refresh-btn",onClick:nl},(0,c.v_)(e.$t("common.retry")),1)])):0===Xa.value.length?((0,o.uX)(),(0,o.CE)("div",Ee,[(0,o.bF)((0,u.R1)(m.Hql),{size:48,class:"empty-icon"}),(0,o.Lk)("p",null,(0,c.v_)(e.$t("profile.noDevices")),1)])):((0,o.uX)(),(0,o.CE)("div",Ae,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Xa.value,function(a,l){return(0,o.uX)(),(0,o.CE)("div",{key:l,class:"device-item"},[(0,o.Lk)("div",Xe,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(sl(a.ua)),{size:24}))]),(0,o.Lk)("div",Fe,[(0,o.Lk)("div",Ke,(0,c.v_)(tl(a.ua)),1),(0,o.Lk)("div",xe,[(0,o.Lk)("span",Se,(0,c.v_)(a.ip||e.$t("profile.unknownIP")),1),(0,o.Lk)("span",ze,(0,c.v_)(il(a.login_at)),1)])])])}),128))]))])])):(0,o.Q3)("",!0)])),(0,o.bF)(d.eB,{name:"modal-fade"},{default:(0,o.k6)(function(){return[La.value?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:a[13]||(a[13]=function(e){return La.value=!1})},[(0,o.Lk)("div",{class:"modal-content",onClick:a[12]||(a[12]=(0,d.D$)(function(){},["stop"]))},[(0,o.Lk)("div",Qe,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.changePasswordTitle")),1),(0,o.Lk)("button",{class:"modal-close",onClick:a[7]||(a[7]=function(e){return La.value=!1})},[(0,o.bF)((0,u.R1)(m.MRt),{size:20})])]),(0,o.Lk)("div",Ie,[(0,o.Lk)("div",De,[(0,o.Lk)("label",null,(0,c.v_)(e.$t("profile.oldPassword")),1),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":a[8]||(a[8]=function(e){return Oa.value.oldPassword=e}),placeholder:e.$t("profile.oldPassword")},null,8,Oe),[[d.Jo,Oa.value.oldPassword]])]),(0,o.Lk)("div",We,[(0,o.Lk)("label",null,(0,c.v_)(e.$t("profile.newPassword")),1),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":a[9]||(a[9]=function(e){return Oa.value.newPassword=e}),placeholder:e.$t("profile.newPassword")},null,8,Ne),[[d.Jo,Oa.value.newPassword]])]),(0,o.Lk)("div",Te,[(0,o.Lk)("label",null,(0,c.v_)(e.$t("profile.confirmPassword")),1),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":a[10]||(a[10]=function(e){return Oa.value.confirmPassword=e}),placeholder:e.$t("profile.confirmPassword")},null,8,Me),[[d.Jo,Oa.value.confirmPassword]]),Wa.value?((0,o.uX)(),(0,o.CE)("div",qe,(0,c.v_)(e.$t("profile.passwordMismatch")),1)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",Ge,[(0,o.Lk)("button",{class:"btn-cancel",onClick:a[11]||(a[11]=function(e){return La.value=!1})},(0,c.v_)(e.$t("common.cancel")),1),(0,o.Lk)("button",{class:"btn-submit",onClick:Za,disabled:wa.value||!Na()},[wa.value?((0,o.uX)(),(0,o.CE)("span",Be)):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,c.v_)(e.$t("common.submit")),1)],8,Ue)])])])):(0,o.Q3)("",!0)]}),_:1}),(0,o.bF)(d.eB,{name:"modal-fade"},{default:(0,o.k6)(function(){return[ha.value?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:a[17]||(a[17]=function(e){return ha.value=!1})},[(0,o.Lk)("div",{class:"modal-content",onClick:a[16]||(a[16]=(0,d.D$)(function(){},["stop"]))},[(0,o.Lk)("div",Ve,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.resetSecurityTitle")),1),(0,o.Lk)("button",{class:"modal-close",onClick:a[14]||(a[14]=function(e){return ha.value=!1})},[(0,o.bF)((0,u.R1)(m.MRt),{size:20})])]),(0,o.Lk)("div",He,[(0,o.Lk)("p",null,(0,c.v_)(e.$t("profile.resetSecurityConfirm")),1)]),(0,o.Lk)("div",je,[(0,o.Lk)("button",{class:"btn-cancel",onClick:a[15]||(a[15]=function(e){return ha.value=!1})},(0,c.v_)(e.$t("common.cancel")),1),(0,o.Lk)("button",{class:"btn-submit danger",onClick:el,disabled:ga.value},[ga.value?((0,o.uX)(),(0,o.CE)("span",Ye)):(0,o.Q3)("",!0),(0,o.eW)(" "+(0,c.v_)(e.$t("common.confirm")),1)],8,Je)])])])):(0,o.Q3)("",!0)]}),_:1})]),a[22]||(a[22]=(0,o.Lk)("div",{class:"bottom-safe-area"},null,-1))]),(0,o.bF)(d.eB,{name:"modal-fade"},{default:(0,o.k6)(function(){var l,n;return[Aa.value?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"modal-overlay",onClick:ja},[(0,o.Lk)("div",{class:"modal-content",onClick:a[18]||(a[18]=(0,d.D$)(function(){},["stop"]))},[(0,o.Lk)("div",Ze,[(0,o.Lk)("h3",null,(0,c.v_)(e.$t("profile.bindTelegram")),1),(0,o.Lk)("button",{class:"modal-close",onClick:ja},[(0,o.bF)((0,u.R1)(m.MRt),{size:20})])]),(0,o.Lk)("div",ea,[(0,o.Lk)("div",aa,[(0,o.Lk)("div",la,[(0,o.Lk)("div",na,(0,c.v_)(e.$t("profile.telegramStep1")),1),(0,o.Lk)("div",sa,[(0,o.Lk)("p",null,[(0,o.eW)((0,c.v_)(e.$t("profile.telegramSearchTip"))+" ",1),(0,o.Lk)("a",{href:"https://t.me/".concat(null===(l=$a.value)||void 0===l?void 0:l.username),target:"_blank",class:"tg-link"}," @"+(0,c.v_)(null===(n=$a.value)||void 0===n?void 0:n.username),9,ta)])])]),(0,o.Lk)("div",ia,[(0,o.Lk)("div",ra,(0,c.v_)(e.$t("profile.telegramStep2")),1),(0,o.Lk)("div",oa,[(0,o.Lk)("p",null,(0,c.v_)(e.$t("profile.telegramSendCommand")),1),(0,o.Lk)("div",ca,[(0,o.Lk)("pre",ua,"/bind "+(0,c.v_)(ya.value),1),(0,o.Lk)("button",{class:"copy-command-btn",onClick:Ja},[(0,o.bF)((0,u.R1)(m.bzS),{size:16})])])])])])]),(0,o.Lk)("div",da,[(0,o.Lk)("button",{class:"btn-submit",onClick:ja},(0,c.v_)(e.$t("profile.iKnow")),1)])])])):(0,o.Q3)("",!0)]}),_:1})],64)}}});const fa=(0,l(66262).A)(va,[["__scopeId","data-v-8cffbf00"]])},32357:(e,a,l)=>{var n=l(43724),s=l(79039),t=l(79504),i=l(42787),r=l(71072),o=l(25397),c=t(l(48773).f),u=t([].push),d=n&&s(function(){var e=Object.create(null);return e[2]=2,!c(e,2)}),v=function(e){return function(a){for(var l,s=o(a),t=r(s),v=d&&null===i(s),f=t.length,p=0,k=[];f>p;)l=t[p++],n&&!(v?l in s:c(s,l))||u(k,e?[l,s[l]]:s[l]);return k}};e.exports={entries:v(!0),values:v(!1)}}}]);