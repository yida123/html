"use strict";(self.webpackChunkez_theme=self.webpackChunkez_theme||[]).push([[76],{43076:(e,a,l)=>{l.r(a),l.d(a,{default:()=>se});var s=l(59258),t=l(20908),n=l(30388),r=(l(44114),l(9868),l(78459),l(27495),l(25440),l(20641)),c=l(90033),u=l(50953),i=l(53751),o=l(46992),d=l(33366),v=l(25226),p=l(92549),k=l(19043);function m(){return(0,k.A)({url:"/user/comm/config",method:"get"})}function b(e){return(0,k.A)({url:"/user/order/save",method:"post",data:{period:"deposit",deposit_amount:e,plan_id:0}})}var f=l(80394),L=l(75220),h={class:"deposit-container"},y={class:"deposit-inner"},_={class:"dashboard-card welcome-card"},w={class:"card-header"},A={class:"card-title"},C={class:"card-body"},E={class:"dashboard-card balance-card"},g={class:"card-header"},X={class:"card-title"},F={class:"card-body"},$={key:0,class:"balance-display"},K={class:"balance-value"},R={class:"balance-label"},I={key:1,class:"balance-skeleton"},W={class:"dashboard-card deposit-card"},N={class:"card-header"},T={class:"card-title"},z={class:"card-body"},G={class:"deposit-notice"},q={class:"amount-selection"},O={class:"period-cards"},V=["onClick"],D={class:"period-card-inner"},M={class:"period-price"},x={class:"currency"},B={class:"amount"},J={class:"custom-amount"},P={for:"customAmount"},Q={key:0,class:"input-container skeleton-input"},S={key:1,class:"input-container"},U={class:"currency-symbol"},j=["placeholder"],H={key:2,class:"error-message"},Y={class:"deposit-actions"},Z={key:0,class:"btn-order-skeleton"},ee=["disabled"],ae={key:1,class:"loader"};const le={__name:"WalletDeposit",setup:function(e){var a=(0,o.s9)().t,l=(0,d.d)().showToast,k=(0,L.rd)();(0,f.isXiaoV2board)()||k.push("/dashboard");var le=(0,u.KR)(0),se=(0,u.KR)("$"),te=(0,u.KR)(f.WALLET_CONFIG.presetAmounts||[6,30,68,128,256,328,648,1280]),ne=(0,u.KR)(f.WALLET_CONFIG.defaultSelectedAmount||null),re=(0,u.KR)(""),ce=(0,u.KR)(""),ue=f.WALLET_CONFIG.minimumDepositAmount||1,ie=(0,u.Kh)({balance:!0,submitting:!1,config:!0}),oe=function(){var e=(0,n.A)((0,t.A)().m(function e(){var a;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,m();case 1:(a=e.v)&&a.data&&a.data.currency_symbol&&(se.value=a.data.currency_symbol),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.p=3,ie.config=!1,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),de=function(){if(ne.value=null,""!==re.value){var e=parseFloat(re.value);isNaN(e)||e<=0?ce.value=a("wallet.deposit.amountError.invalid"):ce.value=e<ue?a("wallet.deposit.amountError.minimum").replace("1",ue):""}else ce.value=""},ve=(0,r.EW)(function(){return ne.value?ne.value:re.value&&parseFloat(re.value)>=1?parseFloat(re.value):null}),pe=(0,r.EW)(function(){return null!==ve.value}),ke=function(){var e=(0,n.A)((0,t.A)().m(function e(){var s,n,r;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return ie.balance=!0,e.p=1,e.n=2,(0,p.ug)();case 2:(s=e.v)&&s.data&&(le.value=s.data.balance||0),e.n=4;break;case 3:e.p=3,r=e.v,l((null===(n=r.response)||void 0===n?void 0:n.message)||r.message||a("errors.serverError")||a("common.error_occurred"),"error");case 4:return e.p=4,ie.balance=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),me=function(){var e=(0,n.A)((0,t.A)().m(function e(){var s,n,r,c,u;return(0,t.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(pe.value){e.n=1;break}return l(a("validation.required").replace("{field}",a("wallet.deposit.title"))||a("wallet.deposit.amountError.required"),"warning"),e.a(2);case 1:return e.p=1,ie.submitting=!0,s=Math.round(100*ve.value),e.n=2,b(s);case 2:(n=e.v)&&n.data&&(r=n.data,l(a("wallet.deposit.success"),"success"),k.push({path:"/payment",query:{trade_no:r,type:"deposit"}})),e.n=4;break;case 3:e.p=3,u=e.v,l((null===(c=u.response)||void 0===c?void 0:c.message)||u.message||a("errors.serverError")||a("wallet.deposit.failed"),"error");case 4:return e.p=4,ie.submitting=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();return(0,r.sV)(function(){ke(),oe()}),function(e,a){return(0,r.uX)(),(0,r.CE)("div",h,[(0,r.Lk)("div",y,[(0,r.Lk)("div",_,[(0,r.Lk)("div",w,[(0,r.Lk)("h2",A,(0,c.v_)(e.$t("wallet.welcome.title")||"\u8d26\u6237\u5145\u503c"),1)]),(0,r.Lk)("div",C,[(0,r.Lk)("p",null,(0,c.v_)(e.$t("wallet.welcome.description")||"\u5728\u8fd9\u91cc\u60a8\u53ef\u4ee5\u8f7b\u677e\u5730\u4e3a\u60a8\u7684\u8d26\u6237\u5145\u503c\uff0c\u9009\u62e9\u9884\u8bbe\u91d1\u989d\u6216\u8f93\u5165\u81ea\u5b9a\u4e49\u91d1\u989d\u8fdb\u884c\u5145\u503c\u3002\u5145\u503c\u540e\u7684\u4f59\u989d\u5c06\u7acb\u5373\u5230\u8d26\u5e76\u53ef\u7528\u4e8e\u8d2d\u4e70\u6211\u4eec\u7684\u670d\u52a1\u3002"),1)])]),(0,r.Lk)("div",E,[(0,r.Lk)("div",g,[(0,r.Lk)("h2",X,(0,c.v_)(e.$t("wallet.balance.title")),1)]),(0,r.Lk)("div",F,[ie.balance?((0,r.uX)(),(0,r.CE)("div",I,(0,s.A)(a[1]||(a[1]=[(0,r.Lk)("div",{class:"skeleton-balance-value"},null,-1),(0,r.Lk)("div",{class:"skeleton-balance-label"},null,-1)])))):((0,r.uX)(),(0,r.CE)("div",$,[(0,r.Lk)("div",K,(0,c.v_)(se.value)+(0,c.v_)((l=le.value,(parseFloat(l)/100).toFixed(2))),1),(0,r.Lk)("div",R,(0,c.v_)(e.$t("wallet.balance.description")),1)]))])]),(0,r.Lk)("div",W,[(0,r.Lk)("div",N,[(0,r.Lk)("h2",T,(0,c.v_)(e.$t("wallet.deposit.title")),1)]),(0,r.Lk)("div",z,[(0,r.Lk)("div",G,[(0,r.bF)((0,u.R1)(v.GBC),{size:20,class:"notice-icon"}),(0,r.Lk)("span",null,(0,c.v_)(e.$t("wallet.deposit.notice")),1)]),(0,r.Lk)("div",q,[(0,r.Lk)("div",O,[ie.config?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},(0,r.pI)(4,function(e){return(0,r.Lk)("div",{key:"skeleton-".concat(e),class:"period-card skeleton-card"},(0,s.A)(a[2]||(a[2]=[(0,r.Lk)("div",{class:"period-card-inner"},[(0,r.Lk)("div",{class:"skeleton-price"})],-1)])))}),64)):((0,r.uX)(!0),(0,r.CE)(r.FK,{key:1},(0,r.pI)(te.value,function(e,a){return(0,r.uX)(),(0,r.CE)("div",{key:a,class:(0,c.C4)(["period-card",{active:ne.value===e}]),onClick:function(a){return function(e){ne.value=e,re.value="",ce.value=""}(e)}},[(0,r.Lk)("div",D,[(0,r.Lk)("div",M,[(0,r.Lk)("span",x,(0,c.v_)(se.value),1),(0,r.Lk)("span",B,(0,c.v_)(e),1)])])],10,V)}),128))])]),(0,r.Lk)("div",J,[(0,r.Lk)("label",P,(0,c.v_)(e.$t("wallet.deposit.customAmount")),1),ie.config?((0,r.uX)(),(0,r.CE)("div",Q,(0,s.A)(a[3]||(a[3]=[(0,r.Lk)("div",{class:"skeleton-input-field"},null,-1)])))):((0,r.uX)(),(0,r.CE)("div",S,[(0,r.Lk)("span",U,(0,c.v_)(se.value),1),(0,r.bo)((0,r.Lk)("input",{id:"customAmount","onUpdate:modelValue":a[0]||(a[0]=function(e){return re.value=e}),type:"number",min:"1",placeholder:e.$t("wallet.deposit.customAmountPlaceholder"),onInput:de},null,40,j),[[i.Jo,re.value]])])),ce.value?((0,r.uX)(),(0,r.CE)("small",H,(0,c.v_)(ce.value),1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Y,[ie.config?((0,r.uX)(),(0,r.CE)("div",Z)):((0,r.uX)(),(0,r.CE)("button",{key:1,class:"btn-order",disabled:ie.submitting||!pe.value||parseFloat(re.value)<(0,u.R1)(ue),onClick:me},[ie.submitting?((0,r.uX)(),(0,r.CE)("span",ae)):((0,r.uX)(),(0,r.Wv)((0,u.R1)(v.AMT),{key:0,size:18})),(0,r.Lk)("span",null,(0,c.v_)(e.$t("wallet.deposit.button")),1)],8,ee))])])])])]);var l}}};const se=(0,l(66262).A)(le,[["__scopeId","data-v-0e17c8b4"]])}}]);